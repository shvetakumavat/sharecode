(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{134:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPcAAABIBAMAAADYPn7AAAAAG1BMVEX////6ztf4tcPzhJvvU3PxbIf2na/85uvtO1+h432eAAAAAXRSTlMAQObYZgAAA8NJREFUaIHtVz1v2zAQZeTPUWhRwKOXFB49tI1Hp0FhjW5apB6NBk01qm0SeEws2eXPLu94JI8U7QbtkoG3SCce7x2Pj3eUEEmSJEmSJMlzlx+vv+ZPtb3/LK+q/wH7+UY2Vw7um1Ry+bSpHbDdq5ehlFv4kCldD6kvuXlRcjF27yja6he+N2PyV+qx9872w3cRnSjEoEB1GQOfSDnl8xAg9NEnZaezd2cGvzDbjwfAb7Vax8BXUs69oOuIj5nRztlaINKK2U7j4CvSx23wgXp59DM2bfnoOTV3awFZMFsvEgt+Quq+aoP3aa1s3r7lY+ZUCLRwasNtFzFwoFt9LesqkvaetXPzqsBHhjDvrgs9iOy9rAan8Jwy2yYG3sWUvKxEBHwDdobh9c3NyjhU7yhkA5FnBWZpJGnvJ5gJbTuTkYnkdu9effASJi3dEAzMrZmwdBtTmqbIoKYyxKuNbWkiYRM5YgwcU/mbDZWg+j6k1VY1pyjmoCJbiGQXAe/C5zi45uKeDW1aC8ikKQWiN9XqWqvA1rGx3bBImABDzuLgSB4dGg3hw/PRQZp5qlroDFgAYXGX6zY4slVe5BFw4CL5DlbuGNtziaMpNZotkA1zi6fyvvQmCvNZ6trIjoKkXXukNAZ77nx0HV8pQ3tkXY3GDxacIgnBR/rLog0OE2a6wAZsdz6CVGpVj044OEUSglNfaKoWOKx6pNk7tOd8/W/gkzg4lgPplyNbu6pu0ExYjLG0d/20uz0/sHIx0K3lMQRHLnWwMLqhrfDBA8JpVROu0Bw7uucK/cW1hIiHPts3BjBn4GuzBVQiI0ctV8tR/IUq4U4XRVKz2mrlFhYYgJcGkLVRe9iNBEUGEJc2CTIfHj/nQrxaIuta4KbRywcLvuP9R4v0yiuskDhQcpcHKpw4hS9A+QB8YPff7fNctMBtY7nDFJSS6muf7+SR2q42LZL2vgXfacCNX+dJgpYK7naKJCcryToghBTranSZYP2PwLsWXF8gtoZbQ68tY3ne2csENiNzt8j/1s9tdrcB+IhMJRWW7YDIZMgno9eo0qnelSt6kzE1Rvn1wWfINOQdDZWW7dxHcIHsONW7bEbvcHZyeIEs6AxN7AVC06Plw786O3Uv/MoYA6cCdx601IxWIjaWtZk0/xaej4wU+mkA5iFczsHP2ikT5lCYlurAqa5iZsxBWHnl1foIfpfutboWDO/QH4uyXjXty8TQVAtMgR4aHeBN8KOYvS2aTzoUbXv4Xy1JkiRJkiRJkiRJkiRJkjw3+QMw3+zIh8fbtgAAAABJRU5ErkJggg=="},140:function(e,t,a){e.exports=a.p+"static/media/social-media.8f4e1855.gif"},141:function(e,t,a){e.exports=a.p+"static/media/google.0ee03176.jpg"},153:function(e,t,a){e.exports=a(211)},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=a(11),i=a(44),s=a(128),u=a(83),m=a(42),p=a(6),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("user_info",JSON.stringify(Object(p.a)({},null===t||void 0===t?void 0:t.data))),Object(p.a)(Object(p.a)({},e),{},{authData:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(p.a)(Object(p.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},f=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case"END_LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1});case"FETCH_ALL":return Object(p.a)(Object(p.a)({},e),{},{posts:t.payload.data,currentPage:t.payload.currentPage,numberOfPages:t.payload.numberOfPages});case"FETCH_BY_SEARCH":case"FETCH_BY_CREATOR":return Object(p.a)(Object(p.a)({},e),{},{posts:t.payload.data});case"FETCH_POST":return Object(p.a)(Object(p.a)({},e),{},{post:t.payload.post});case"LIKE":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"COMMENT":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.map((function(e){return e._id==+t.payload._id?t.payload:e}))});case"CREATE":return Object(p.a)(Object(p.a)({},e),{},{posts:[].concat(Object(m.a)(e.posts),[t.payload])});case"UPDATE":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});default:return e}},auth:d,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.payload.data});case"FOLLOW_USER":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}}}),g=a(246),v=a(25),b=a(16),h=a(19),E=a(233),x=Object(E.a)((function(e){var t;return t={},Object(h.a)(t,e.breakpoints.down("sm"),{mainContainer:{flexDirection:"column-reverse"}}),Object(h.a)(t,"container",{margin:"100px 0px"}),Object(h.a)(t,"heading",{color:"rgba(0,183,255, 1)"}),Object(h.a)(t,"image",{marginLeft:"15px"}),t})),O=a(146),j=a(236),y=a(214),w=a(237),N=a(235),k=a(81),S=a.n(k),A=a(8),C=a.n(A),I=a(14),T=a(132),_=a.n(T).a.create({baseURL:"https://sharecode-71ak.onrender.com"});_.interceptors.request.use((function(e){return localStorage.getItem("user_info")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("user_info")).token)),e}));var L=function(e){return _.patch("/user/".concat(e,"/follow"))},R=function(e){return _.get("/posts/".concat(e))},D=function(e){return _.get("/posts?page=".concat(e))},B=function(e){return _.get("/posts/creator?name=".concat(e))},P=function(e){return _.get("/posts/search?searchQuery=".concat(e.search||"none","&tags=").concat(e.tags))},F=function(e){return _.patch("/posts/".concat(e,"/likePost"))},W=function(e,t){return _.post("/posts/".concat(t,"/commentPost"),{value:e})},z=function(e,t){return _.patch("/posts/".concat(e),t)},J=function(e){return _.delete("/posts/".concat(e))},U=function(e){return _.post("/user/signin",e)},H=function(e){return _.post("/user/signup",e)},Y=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,P(e);case 4:n=t.sent,r=n.data.data,a({type:"FETCH_BY_SEARCH",payload:{data:r}}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"START_LOADING"}),a.next=4,o=e,_.post("/posts",o);case 4:r=a.sent,c=r.data,n({type:"CREATE",payload:c}),t.push("/posts/".concat(c._id)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}var o}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z(e,t);case 3:r=a.sent,c=r.data,n({type:"UPDATE",payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("user_info")),t.prev=1,t.next=4,F(e,null===n||void 0===n||n.token);case 4:r=t.sent,c=r.data,a({type:"LIKE",payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},X=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W(e,t);case 3:return r=a.sent,c=r.data,n({type:"COMMENT",payload:c}),a.abrupt("return",c.comments);case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},Q=a(17),Z=a(249),V=Object(E.a)((function(e){return{media:{borderRadius:"5px",objectFit:"cover",width:"90%",maxHeight:"600px"},card:Object(h.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column"}),section:{borderRadius:"5px",margin:"10px",flex:1},imageSection:Object(h.a)({marginLeft:"20px"},e.breakpoints.down("sm"),{marginLeft:0}),recommendedPosts:Object(h.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column"}),loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"5px",height:"39vh"},commentsOuterContainer:{display:"flex",justifyContent:"space-between"},commentsInnerContainer:{height:"200px",overflowY:"auto",marginRight:"30px"}}})),q=function(e){var t=e.post,a=JSON.parse(localStorage.getItem("profile")),c=Object(n.useState)(""),o=Object(Q.a)(c,2),i=o[0],s=o[1],u=Object(l.b)(),m=Object(n.useState)(null===t||void 0===t?void 0:t.comments),p=Object(Q.a)(m,2),d=p[0],f=p[1],g=V(),v=Object(n.useRef)(),b=function(){var e=Object(I.a)(C.a.mark((function e(){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(X("".concat(null===a||void 0===a||null===(n=a.result)||void 0===n?void 0:n.name,": ").concat(i),t._id));case 2:r=e.sent,s(""),f(r),v.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:g.commentsOuterContainer},r.a.createElement("div",{className:g.commentsInnerContainer},r.a.createElement(y.a,{gutterBottom:!0,variant:"h6"},"Comments"),null===d||void 0===d?void 0:d.map((function(e,t){return r.a.createElement(y.a,{key:t,gutterBottom:!0,variant:"subtitle1"},r.a.createElement("strong",null,e.split(": ")[0]),e.split(":")[1])})),r.a.createElement("div",{ref:v})),r.a.createElement("div",{style:{width:"70%"}},r.a.createElement(y.a,{gutterBottom:!0,variant:"h6"}," comment"),r.a.createElement(Z.a,{fullWidth:!0,rows:4,variant:"outlined",label:"Comment",multiline:!0,value:i,onChange:function(e){return s(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{style:{marginTop:"10px"},fullWidth:!0,disabled:!i.length,color:"primary",variant:"contained",onClick:b},"Comment"))))},$=function(){var e=Object(l.c)((function(e){return e.posts})),t=e.post,a=e.posts,c=e.isLoading,o=Object(l.b)(),i=Object(b.g)(),s=V(),u=Object(b.i)().id;if(Object(n.useEffect)((function(){o(function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,R(e);case 4:n=t.sent,r=n.data,a({type:"FETCH_POST",payload:{post:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(u))}),[u]),Object(n.useEffect)((function(){t&&o(Y({search:"none",tags:null===t||void 0===t?void 0:t.tags.join(",")}))}),[t]),!t)return null;if(c)return r.a.createElement(O.a,{elevation:6,className:s.loadingPaper},r.a.createElement(j.a,{size:"7em"}));var m=a.filter((function(e){return e._id!==t._id}));return r.a.createElement(O.a,{style:{padding:"20px",borderRadius:"5px"},elevation:6},r.a.createElement("div",{className:s.card},r.a.createElement("div",{className:s.section},r.a.createElement(y.a,{variant:"h3",component:"h2"},t.title),r.a.createElement(y.a,{gutterBottom:!0,variant:"h6",color:"textSecondary",component:"h2"},t.tags.map((function(e){return r.a.createElement(v.b,{to:"/tags/".concat(e),style:{textDecoration:"none",color:"#3f51b5"}}," #".concat(e," "))}))),r.a.createElement(y.a,{gutterBottom:!0,variant:"body1",component:"p"},t.message),r.a.createElement(y.a,{variant:"h6"},"Created by:",r.a.createElement(v.b,{to:"/creators/".concat(t.name),style:{textDecoration:"none",color:"#3f51b5"}}," ".concat(t.name))),r.a.createElement(y.a,{variant:"body1"},S()(t.createdAt).fromNow())," ",r.a.createElement(w.a,{style:{margin:"20px 0"}}),r.a.createElement("div",{className:s.imageSection},r.a.createElement("img",{className:s.media,src:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",alt:t.title})),r.a.createElement(w.a,{style:{margin:"20px 0"}}),r.a.createElement(q,{post:t}),r.a.createElement(w.a,{style:{margin:"20px 0"}}))),r.a.createElement(N.a,{variant:"contained",onClick:function(){i.push("/")}},"Back"),!!m.length&&r.a.createElement("div",{className:s.section},r.a.createElement(y.a,{gutterBottom:!0,variant:"h5"},"You might also like:"),r.a.createElement(w.a,null),r.a.createElement("div",{className:s.recommendedPosts},m.map((function(e){var t=e.title,a=e.name,n=e.message,c=e.likes,o=e.selectedFile,l=e._id;return r.a.createElement("div",{style:{margin:"20px",cursor:"pointer"},onClick:function(){return function(e){return i.push("/posts/".concat(e))}(l)},key:l},r.a.createElement(y.a,{gutterBottom:!0,variant:"h6"},t),r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle2"},a),r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle2"},n),r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"Likes: ",c.length),r.a.createElement("img",{src:o,width:"10px"}))})))))},ee=a(239),te=a(240),ae=a(241),ne=a(252),re=a(133),ce=a(134),oe=a.n(ce),le=a(238),ie=Object(E.a)((function(e){var t;return{appBar:(t={margin:" 0px 0px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},Object(h.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(h.a)(t,"padding","4px"),t),heading:{color:e.palette.primary.main,textDecoration:"none",fontSize:"2em",fontWeight:300},image:{marginLeft:"10px",marginTop:"5px"},toolbar:Object(h.a)({display:"flex",justifyContent:"flex-end"},e.breakpoints.down("sm"),{width:"auto"}),profile:Object(h.a)({display:"flex"},e.breakpoints.down("sm"),{width:"auto",justifyContent:"right"}),brandContainer:{marginLeft:"30px",display:"flex",alignItems:"center"},purple:{color:e.palette.getContrastText(le.a[300]),backgroundColor:le.a[300],width:"35px",height:"32px",marginLeft:"10px"}}})),se=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("user_info"))),t=Object(Q.a)(e,2),a=t[0],c=t[1],o=Object(l.b)(),i=Object(b.h)(),s=Object(b.g)(),u=ie(),m=function(){o({type:"LOGOUT"}),s.push("/auth"),c(null)};return Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.token;e&&(1e3*Object(re.a)(e).exp<(new Date).getTime()&&m());c(JSON.parse(localStorage.getItem("user_info")))}),[i]),r.a.createElement(ee.a,{className:u.appBar,position:"fixed",color:"inherit"},r.a.createElement(te.a,{container:!0,justify:"space-between",alignItems:"center",spacing:3},r.a.createElement(te.a,{item:!0,xs:2,sm:2,md:2},r.a.createElement(v.b,{to:"/",className:u.brandContainer},r.a.createElement("img",{component:v.b,to:"/",src:oe.a,alt:"icon",height:"45px"}))),r.a.createElement(te.a,{item:!0,xs:10,sm:10,md:4},r.a.createElement(ae.a,{className:u.toolbar},(null===a||void 0===a?void 0:a.result)?r.a.createElement("div",{className:u.profile},r.a.createElement(N.a,{variant:"contained",className:u.logout,color:"secondary",onClick:m},"Logout"),r.a.createElement(ne.a,{className:u.purple,alt:null===a||void 0===a?void 0:a.result.firstName,src:null===a||void 0===a?void 0:a.result.profilePicture},null===a||void 0===a?void 0:a.result.firstName.charAt(0))):r.a.createElement(N.a,{component:v.b,to:"/auth",variant:"contained",color:"primary"},"Sign In")))))},ue=a(251),me=a(242),pe=a(148),de=a(243),fe=a(244),ge=a(245),ve=a(135),be=a.n(ve),he=a(137),Ee=a.n(he),xe=a(136),Oe=a.n(xe),je=a(96),ye=a.n(je),we=Object(E.a)({media:{height:0,paddingTop:"50.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"5px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},cardAction:{display:"block",textAlign:"initial"}}),Ne=function(e){var t,a,c,o,i,s=e.post,u=e.setCurrentId,p=JSON.parse(localStorage.getItem("user_info")),d=Object(n.useState)(null===s||void 0===s?void 0:s.likes),f=Object(Q.a)(d,2),g=f[0],v=f[1],h=Object(l.b)(),E=Object(b.g)(),x=we(),O=(null===p||void 0===p?void 0:p.result.googleId)||(null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t._id),j=s.likes.find((function(e){return e===O})),w=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(K(s._id)),v(j?s.likes.filter((function(e){return e!==O})):[].concat(Object(m.a)(s.likes),[O]));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){return g.length>0?g.find((function(e){return e===O}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{fontSize:"small"}),"\xa0",g.length>2?"You and ".concat(g.length-1," others"):"".concat(g.length," like").concat(g.length>1?"s":"")):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{fontSize:"small"}),"\xa0",g.length," ",1===g.length?"Like":"Likes"):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{fontSize:"small"}),"\xa0Like")};return r.a.createElement(me.a,{className:x.card,raised:!0,elevation:4},r.a.createElement(pe.a,{component:"span",name:"test",className:x.cardAction,onClick:function(e){E.push("/posts/".concat(s._id))}},r.a.createElement(de.a,{className:x.media,image:s.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:s.title}),r.a.createElement("div",{className:x.overlay},r.a.createElement(y.a,{variant:"body2"},s.name),r.a.createElement(y.a,{variant:"body2"},S()(s.createdAt).fromNow())),((null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a.googleId)===(null===s||void 0===s?void 0:s.creator)||(null===p||void 0===p||null===(c=p.result)||void 0===c?void 0:c._id)===(null===s||void 0===s?void 0:s.creator))&&r.a.createElement("div",{className:x.overlay2,name:"edit"},r.a.createElement(N.a,{onClick:function(e){e.stopPropagation(),u(s._id)},style:{color:"white"},size:"small"},r.a.createElement(Oe.a,{fontSize:"default"}))),r.a.createElement("div",{className:x.details},r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"h2"},s.tags.map((function(e){return"#".concat(e," ")})))),r.a.createElement(y.a,{className:x.title,gutterBottom:!0,variant:"h5",component:"h2"},s.title),r.a.createElement(fe.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},s.message.split(" ").splice(0,20).join(" "),"..."))),r.a.createElement(ge.a,{className:x.cardActions},r.a.createElement(N.a,{size:"small",color:"primary",disabled:!(null===p||void 0===p?void 0:p.result),onClick:w},r.a.createElement(k,null)),((null===p||void 0===p||null===(o=p.result)||void 0===o?void 0:o.googleId)===(null===s||void 0===s?void 0:s.creator)||(null===p||void 0===p||null===(i=p.result)||void 0===i?void 0:i._id)===(null===s||void 0===s?void 0:s.creator))&&r.a.createElement(N.a,{size:"small",color:"secondary",onClick:function(){return h((e=s._id,function(){var t=Object(I.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:a({type:"DELETE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(Ee.a,{fontSize:"small"})," \xa0 Delete")))},ke=Object(E.a)((function(e){return{container:{padding:"30px"}}})),Se=function(e){var t=e.setCurrentId,a=Object(l.c)((function(e){return e.posts})),n=a.posts,c=a.isLoading,o=ke();return n.length||c?c?r.a.createElement(j.a,null):r.a.createElement(O.a,{className:o.container},r.a.createElement(te.a,{container:!0,alignItems:"stretch",spacing:3},null===n||void 0===n?void 0:n.map((function(e){return r.a.createElement(te.a,{key:e._id,item:!0,xs:12,sm:6,md:12,lg:12},r.a.createElement(Ne,{post:e,setCurrentId:t}))})))):"No posts"},Ae=a(138),Ce=a.n(Ae),Ie=a(139),Te=a.n(Ie),_e=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{margin:"10px 0",width:"87%",padding:"10px",border:"solid 1px #ccc",borderRadius:"3px"},buttonSubmit:{borderRadius:"5px",marginLeft:5,width:"30%"},border:{border:"solid 1px #f00255"}}})),Le=function(e){var t,a=e.currentId,c=e.setCurrentId,o=Object(n.useState)({title:"",message:"",tags:[],selectedFile:""}),i=Object(Q.a)(o,2),s=i[0],u=i[1],d=Object(l.c)((function(e){return a?e.posts.posts.find((function(e){return e._id===a})):null})),f=Object(l.b)(),g=_e(),v=JSON.parse(localStorage.getItem("user_info")),h=Object(b.g)(),E=function(){c(0),u({title:"",message:"",tags:[],selectedFile:""})};Object(n.useEffect)((function(){(null===d||void 0===d?void 0:d.title)||E(),d&&u(d)}),[d]);var x=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(f(G(Object(p.a)(Object(p.a)({},s),{},{name:null===v||void 0===v||null===(n=v.result)||void 0===n?void 0:n.firstName}),h)),E()):(f(M(a,Object(p.a)(Object(p.a)({},s),{},{name:null===v||void 0===v||null===(r=v.result)||void 0===r?void 0:r.firstName}))),E());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t.firstName))return r.a.createElement(O.a,{className:g.paper,elevation:6},r.a.createElement(y.a,{variant:"h6",align:"center"},"Please Sign In to create your own post and like other's post."));return r.a.createElement(O.a,{className:g.paper,elevation:4},r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:"".concat(g.root," ").concat(g.form),onSubmit:x},r.a.createElement(y.a,{variant:"h6"},a?'Editing "'.concat(null===d||void 0===d?void 0:d.title,'"'):"Start Post"),r.a.createElement(Z.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:s.title,onChange:function(e){return u(Object(p.a)(Object(p.a)({},s),{},{title:e.target.value}))}}),r.a.createElement(Z.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,value:s.message,onChange:function(e){return u(Object(p.a)(Object(p.a)({},s),{},{message:e.target.value}))}}),r.a.createElement("div",{style:{padding:"5px 0",width:"94%"}},r.a.createElement(Te.a,{name:"tags",variant:"outlined",label:"Tags",fullWidth:!0,value:s.tags,onAdd:function(e){return t=e,void u(Object(p.a)(Object(p.a)({},s),{},{tags:[].concat(Object(m.a)(s.tags),[t])}));var t},onDelete:function(e){return t=e,void u(Object(p.a)(Object(p.a)({},s),{},{tags:s.tags.filter((function(e){return e!==t}))}));var t}})),r.a.createElement("div",{className:g.fileInput},r.a.createElement(Ce.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return u(Object(p.a)(Object(p.a)({},s),{},{selectedFile:t}))}})),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement(N.a,{className:g.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit"},"Submit"),r.a.createElement(N.a,{className:"".concat(g.buttonSubmit," ").concat(g.border),color:"secondary",size:"small",onClick:E},"Clear"))))},Re=a(253),De=a(250),Be=Object(E.a)((function(){return{ul:{justifyContent:"space-around"}}})),Pe=function(e){var t=e.page,a=Object(l.c)((function(e){return e.posts})).numberOfPages,c=Object(l.b)(),o=Be();return Object(n.useEffect)((function(){t&&c(function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r,c,o,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,D(e);case 4:n=t.sent,r=n.data,c=r.data,o=r.currentPage,l=r.numberOfPages,a({type:"FETCH_ALL",payload:{data:c,currentPage:o,numberOfPages:l}}),a({type:"END_LOADING"}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[c,t]),r.a.createElement(Re.a,{classes:{ul:o.ul},count:a,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return r.a.createElement(De.a,Object.assign({},e,{component:v.b,to:"/posts?page=".concat(e.page)}))}})},Fe=Object(E.a)((function(e){return{appBarSearch:{borderRadius:15,marginBottom:"1rem",display:"flex",padding:"16px"},pagination:{borderRadius:4,marginTop:"1rem",padding:"16px"},gridContainer:Object(h.a)({},e.breakpoints.down("xs"),{flexDirection:"column-reverse"})}})),We=Object(E.a)({card:{padding:"50px",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"5px",height:"100%",position:"relative"},userName:{marginTop:"10px",padding:"10px"},purple:{marginTop:"20px",color:"#ffffff",backgroundColor:le.a[300],marginLeft:"40px"}}),ze=a(140),Je=a.n(ze);var Ue=function(){var e,t,a,n,c,o=We(),l=JSON.parse(localStorage.getItem("user_info"));return(null===l||void 0===l||null===(e=l.result)||void 0===e?void 0:e.firstName)?r.a.createElement(O.a,null,r.a.createElement(me.a,null,r.a.createElement(te.a,{container:!0},r.a.createElement(te.a,{item:!0},r.a.createElement(ne.a,{className:o.purple,alt:null===l||void 0===l?void 0:l.result.firstName,src:null===l||void 0===l?void 0:l.result.profilePicture},null===l||void 0===l?void 0:l.result.firstName.charAt(0))),r.a.createElement(te.a,{item:!0},r.a.createElement("div",{className:o.userName}," ",r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},null===l||void 0===l||null===(t=l.result)||void 0===t?void 0:t.firstName," ",null===l||void 0===l||null===(a=l.result)||void 0===a?void 0:a.lastName))," ")),r.a.createElement(w.a,null),r.a.createElement(fe.a,null,r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},"Followers ",null===l||void 0===l||null===(n=l.result)||void 0===n?void 0:n.followers.length),r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p"},"Following ",null===l||void 0===l||null===(c=l.result)||void 0===c?void 0:c.following.length)))):r.a.createElement(O.a,{style:{padding:"20px"},elevation:6},r.a.createElement(te.a,{container:!0},r.a.createElement(te.a,{item:!0},r.a.createElement("img",{color:"textSecondary",to:"/",src:Je.a,alt:"icon",height:"50px",style:{opacity:"0.5"}})," "),r.a.createElement(te.a,{item:!0,style:{padding:"10px"}}," ",r.a.createElement(y.a,{variant:"h6",color:"textSecondary"},"Your not Sign In..."))))},He=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("user_info")),t.prev=1,t.next=4,L(e,null===n||void 0===n||n.token);case 4:r=t.sent,c=r.data,a({type:"FOLLOW_USER",payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Ye=Object(E.a)((function(e){return{container:{marginTop:"3px",padding:"20px"},username:{marginTop:"5px",marginLeft:"5px"},profilePicture:{color:e.palette.getContrastText(le.a[300]),backgroundColor:le.a[300]},followbtn:{marginTop:"5px",padding:"4px",width:"100%",alignSelf:"right",borderRadius:"2px",alignContent:"end",color:"#225af5"}}}));var Ge=function(e){var t,a=e.user,c=Ye(),o=JSON.parse(localStorage.getItem("user_info")),i=(null===o||void 0===o?void 0:o.result.googleId)||(null===o||void 0===o||null===(t=o.result)||void 0===t?void 0:t._id),s=a.followers.find((function(e){return e===i})),u=Object(n.useState)(null===a||void 0===a?void 0:a.followers),p=Object(Q.a)(u,2),d=p[0],f=p[1],g=Object(l.b)(),v=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(He(a._id)),f(s?a.followers.filter((function(e){return e!==i})):[].concat(Object(m.a)(a.followers),[i]));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){return d.find((function(e){return e===i}))?r.a.createElement(r.a.Fragment,null,"UnFollow"):r.a.createElement(r.a.Fragment,null,"Follow")};return r.a.createElement(O.a,{className:c.container},r.a.createElement(te.a,{container:!0},r.a.createElement(te.a,{item:!0},r.a.createElement(ne.a,{alt:a.firstName,src:a.profilePicture,className:c.profilePicture},a.firstName.charAt(0))),r.a.createElement(te.a,{item:!0},r.a.createElement(y.a,{className:c.username},a.firstName," ",a.lastName)),r.a.createElement(te.a,{item:!0,style:{textAlign:"right"},xs:12,sm:12,lg:12}," ",r.a.createElement(N.a,{className:c.followbtn,onClick:v}," ",r.a.createElement(b,null)," "))))},Me=Object(E.a)({container:{marginTop:"5px",padding:"20px"}});var Ke=function(){var e,t,a=JSON.parse(localStorage.getItem("user_info")),n=Object(l.c)((function(e){return e.users})),c=n.users,o=(n.isLoading,(null===a||void 0===a?void 0:a.result.googleId)||(null===a||void 0===a||null===(e=a.result)||void 0===e?void 0:e._id)),i=[];if(!(null===a||void 0===a||null===(t=a.result)||void 0===t?void 0:t.firstName))return r.a.createElement(r.a.Fragment,null);c.map((function(e){e._id!==o&&i.push(e)}));var s=Me();return i.length?r.a.createElement(O.a,{className:s.container},r.a.createElement(te.a,{container:!0,alignItems:"stretch",spacing:3},null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(te.a,{key:e._id,item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(Ge,{user:e}))})))):r.a.createElement(j.a,null)};var Xe=function(){var e=Fe(),t=new URLSearchParams(Object(b.h)().search),a=t.get("page")||1,c=t.get("searchQuery"),o=Object(n.useState)(0),i=Object(Q.a)(o,2),s=i[0],u=i[1],m=(Object(l.b)(),Object(n.useState)("")),p=Object(Q.a)(m,2),d=(p[0],p[1],Object(n.useState)([])),f=Object(Q.a)(d,2),v=f[0];f[1],Object(b.g)();return r.a.createElement(ue.a,{in:!0},r.a.createElement(g.a,{maxWidth:"xl"},r.a.createElement(te.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:2,className:e.gridContainer},r.a.createElement(te.a,{item:!0,xs:12,sm:12,md:3,style:{alignContent:"center"}},r.a.createElement(Ue,null),r.a.createElement(Ke,null)),r.a.createElement(te.a,{item:!0,xs:12,sm:12,md:6,style:{alignContent:"center"}},r.a.createElement(Se,{setCurrentId:u})),r.a.createElement(te.a,{item:!0,xs:12,sm:12,md:3},r.a.createElement(Le,{currentId:s,setCurrentId:u}),!c&&!v.length&&r.a.createElement(O.a,{className:e.pagination,elevation:6},r.a.createElement(Pe,{page:a}))))))},Qe=a(141),Ze=a.n(Qe),Ve=a(144),qe=a.n(Ve),$e=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{justifyContent:"center",marginTop:"7px",display:"flex",width:"100%",background:"white",border:"solid 1px #ccc",color:"black",borderRadius:"5px"}}})),et=a(247),tt=a(248),at=a(142),nt=a.n(at),rt=a(143),ct=a.n(rt),ot=function(e){var t=e.name,a=e.handleChange,n=e.label,c=e.half,o=e.autoFocus,l=e.type,i=e.handleShowPassword;return r.a.createElement(te.a,{item:!0,xs:12,sm:c?6:12},r.a.createElement(Z.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:o,type:l,InputProps:"password"===t?{endAdornment:r.a.createElement(et.a,{position:"end"},r.a.createElement(tt.a,{onClick:i},"password"===l?r.a.createElement(nt.a,null):r.a.createElement(ct.a,null)))}:null}))},lt={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},it=function(){var e=Object(n.useState)(lt),t=Object(Q.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(Q.a)(o,2),s=i[0],m=i[1],d=Object(l.b)(),f=Object(b.g)(),v=$e(),E=Object(n.useState)(!1),x=Object(Q.a)(E,2),j=x[0],w=x[1];var k=Object(u.b)({onSuccess:function(e){var t,a,n=e.access_token;try{d(s?(t=n,a=f,function(){var e=Object(I.a)(C.a.mark((function e(n){var r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=t,_.post("/user/signup",{googleAccessToken:o});case 3:r=e.sent,c=r.data,n({type:"AUTH",data:c}),a.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var o}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o=e,_.post("/user/signin",{googleAccessToken:o});case 3:r=a.sent,c=r.data,n({type:"AUTH",data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}var o}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(n,f))}catch(r){console.log(r)}},onFailure:function(e){console.log(e)}}),S=function(e){return c(Object(p.a)(Object(p.a)({},a),{},Object(h.a)({},e.target.name,e.target.value)))};return r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement(O.a,{className:v.paper,elevation:6},r.a.createElement(ne.a,{className:v.avatar},r.a.createElement(qe.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},s?"Sign up":"Sign in"),r.a.createElement("form",{className:v.form,onSubmit:function(e){var t,n;e.preventDefault(),d(s?(t=a,n=f,function(){var e=Object(I.a)(C.a.mark((function e(a){var r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(t);case 3:r=e.sent,c=r.data,a({type:"AUTH",data:c}),n.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,U(e);case 3:r=a.sent,c=r.data,n({type:"AUTH",data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,f))}},r.a.createElement(te.a,{container:!0,spacing:2},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,{name:"firstName",label:"First Name",handleChange:S,autoFocus:!0,half:!0}),r.a.createElement(ot,{name:"lastName",label:"Last Name",handleChange:S,half:!0})),r.a.createElement(ot,{name:"email",label:"Email Address",handleChange:S,type:"email"}),r.a.createElement(ot,{name:"password",label:"Password",handleChange:S,type:j?"text":"password",handleShowPassword:function(){return w(!j)}}),s&&r.a.createElement(ot,{name:"confirmPassword",label:"Repeat Password",handleChange:S,type:"password"})),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:v.submit},s?"Sign Up":"Sign In"),r.a.createElement("button",{className:v.googleButton,onClick:function(){return k()}},r.a.createElement("img",{src:Ze.a,style:{padding:"8px",width:"10%"}}),r.a.createElement("span",{style:{textAlign:"center",marginTop:"15px",fontSize:"17px"}}," Sign in with google")),r.a.createElement(te.a,{container:!0,justify:"flex-end"},r.a.createElement(te.a,{item:!0,marginTop:"10px"},r.a.createElement(N.a,{onClick:function(){c(lt),m((function(e){return!e})),w(!1)}},s?"Already have an account? Sign in":"Don't have an account? Sign Up"))))))},st=function(){var e=Object(b.i)().name,t=Object(l.b)(),a=Object(l.c)((function(e){return e.posts})),c=a.posts,o=a.isLoading,i=Object(b.h)();return Object(n.useEffect)((function(){i.pathname.startsWith("/tags")?t(Y({tags:e})):t(function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,B(e);case 4:n=t.sent,r=n.data.data,a({type:"FETCH_BY_CREATOR",payload:{data:r}}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),c.length||o?r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h2"},e),r.a.createElement(w.a,{style:{margin:"20px 0 50px 0"}}),o?r.a.createElement(j.a,null):r.a.createElement(te.a,{container:!0,alignItems:"stretch",spacing:3},null===c||void 0===c?void 0:c.map((function(e){return r.a.createElement(te.a,{key:e._id,item:!0,xs:12,sm:12,md:6,lg:3},r.a.createElement(Ne,{post:e}))})))):"No posts"},ut=function(){var e=JSON.parse(localStorage.getItem("profile")),t=x(),a=Object(l.b)();return Object(n.useEffect)((function(){a(function(){var e=Object(I.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/user/fetchusers");case 3:a=e.sent,n=a.data,t({type:"FETCH_ALL_USERS",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a]),r.a.createElement(v.a,null,r.a.createElement(g.a,{maxWidth:"xl"},r.a.createElement(se,null),r.a.createElement(g.a,{maxWidth:"xl",className:t.container,position:"static"},r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:function(){return r.a.createElement(b.a,{to:"/posts"})}}),r.a.createElement(b.b,{path:"/posts",exact:!0,component:Xe}),r.a.createElement(b.b,{path:"/user/fetchusers",exact:!0,component:Xe}),r.a.createElement(b.b,{path:"/posts/search",exact:!0,component:Xe}),r.a.createElement(b.b,{path:"/posts/:id",exact:!0,component:$}),r.a.createElement(b.b,{path:["/creators/:name","/tags/:name"],component:st}),r.a.createElement(b.b,{path:"/auth",exact:!0,component:function(){return e?r.a.createElement(b.a,{to:"/posts"}):r.a.createElement(it,null)}})))))},mt=(a(210),Object(i.e)(f,{},Object(i.d)(Object(i.a)(s.a))));o.a.render(r.a.createElement(l.a,{store:mt},r.a.createElement(u.a,{clientId:"681873984744-9241juton944cref0mhhqbfltcb1tiqg.apps.googleusercontent.com"},r.a.createElement(ut,null))),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.4a8fabcf.chunk.js.map